{"ast":null,"code":"var _jsxFileName = \"J:\\\\programs ground\\\\React\\\\temp1\\\\src\\\\Components\\\\joystick.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Joystick() {\n  _s();\n  const [buttonPos, setButtonPos] = useState({\n    x: 0,\n    y: 0\n  });\n  const [isDragging, setIsDragging] = useState(false);\n  const handleMouseDown = event => {\n    setIsDragging(true);\n  };\n  const handleMouseUp = event => {\n    setIsDragging(false);\n    setButtonPos({\n      x: 0,\n      y: 0\n    });\n  };\n  const handleMouseMove = event => {\n    if (isDragging) {\n      const joystick = event.currentTarget.getBoundingClientRect();\n      const newX = event.clientX - joystick.left - joystick.width / 2;\n      const newY = event.clientY - joystick.top - joystick.height / 2;\n      console.log(newX + \" \" + newY);\n      let ra = newX * newX + newY * newY;\n      ra = Math.sqrt(ra);\n      console.log(ra);\n      if (ra > 50) {\n        setButtonPos(newX - 1, newY - 1);\n      } else {\n        setButtonPos({\n          x: newX,\n          y: newY\n        });\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      width: '100px',\n      height: '100px',\n      borderRadius: '50%',\n      backgroundColor: '#313743',\n      margin: '5px'\n    },\n    onMouseMove: handleMouseMove,\n    onMouseUp: handleMouseUp,\n    onMouseLeave: handleMouseUp,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: `translate(-50%, -50%) translate(${buttonPos.x}px, ${buttonPos.y}px)`,\n        width: '50px',\n        height: '50px',\n        backgroundColor: '#e1e1e1',\n        borderRadius: '50%',\n        borderRadius: '50%',\n        border: '8px solid white'\n      },\n      onMouseDown: handleMouseDown\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 7\n  }, this);\n}\n_s(Joystick, \"toQgmU2aB8Mj3au0fY7EfHr8syg=\");\n_c = Joystick;\nexport default Joystick;\nvar _c;\n$RefreshReg$(_c, \"Joystick\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Joystick","_s","buttonPos","setButtonPos","x","y","isDragging","setIsDragging","handleMouseDown","event","handleMouseUp","handleMouseMove","joystick","currentTarget","getBoundingClientRect","newX","clientX","left","width","newY","clientY","top","height","console","log","ra","Math","sqrt","style","position","borderRadius","backgroundColor","margin","onMouseMove","onMouseUp","onMouseLeave","children","transform","border","onMouseDown","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["J:/programs ground/React/temp1/src/Components/joystick.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nfunction Joystick() {\r\n  const [buttonPos, setButtonPos] = useState({x: 0, y: 0});\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  \r\n  const handleMouseDown = (event) => {\r\n    setIsDragging(true);\r\n  }\r\n  \r\n  const handleMouseUp = (event) => {\r\n    setIsDragging(false);\r\n    setButtonPos({x: 0, y: 0});\r\n  }\r\n  \r\n  const handleMouseMove = (event) => {\r\n    if (isDragging) {\r\n      const joystick = event.currentTarget.getBoundingClientRect();\r\n      const newX = event.clientX - joystick.left - joystick.width/2;\r\n      const newY = event.clientY - joystick.top - joystick.height/2;\r\n      console.log(newX+\" \"+newY);\r\n      let ra = newX*newX+newY*newY;\r\n      ra = Math.sqrt(ra);\r\n      console.log(ra);\r\n      if(ra>50){\r\n        setButtonPos(newX-1,newY-1);\r\n      }else{\r\n        setButtonPos({x: newX, y: newY});\r\n      }\r\n    }\r\n  }\r\n  \r\n  return (\r\n      <div style={{position: 'relative', width: '100px', height: '100px', borderRadius: '50%',backgroundColor: '#313743'\r\n                ,margin: '5px'}}\r\n         onMouseMove={handleMouseMove}\r\n         onMouseUp={handleMouseUp}\r\n         onMouseLeave={handleMouseUp}>\r\n\r\n      <div style={{position: 'absolute', top: '50%', left: '50%', \r\n       transform: `translate(-50%, -50%) translate(${buttonPos.x}px, ${buttonPos.y}px)`,\r\n       width: '50px', height: '50px', \r\n       backgroundColor: '#e1e1e1', \r\n       borderRadius: '50%',\r\n       borderRadius: '50%',\r\n       border: '8px solid white'\r\n      }}\r\n           onMouseDown={handleMouseDown} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Joystick;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAClB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGN,QAAQ,CAAC;IAACO,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAC,CAAC,CAAC;EACxD,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAEnD,MAAMW,eAAe,GAAIC,KAAK,IAAK;IACjCF,aAAa,CAAC,IAAI,CAAC;EACrB,CAAC;EAED,MAAMG,aAAa,GAAID,KAAK,IAAK;IAC/BF,aAAa,CAAC,KAAK,CAAC;IACpBJ,YAAY,CAAC;MAACC,CAAC,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAC,CAAC,CAAC;EAC5B,CAAC;EAED,MAAMM,eAAe,GAAIF,KAAK,IAAK;IACjC,IAAIH,UAAU,EAAE;MACd,MAAMM,QAAQ,GAAGH,KAAK,CAACI,aAAa,CAACC,qBAAqB,EAAE;MAC5D,MAAMC,IAAI,GAAGN,KAAK,CAACO,OAAO,GAAGJ,QAAQ,CAACK,IAAI,GAAGL,QAAQ,CAACM,KAAK,GAAC,CAAC;MAC7D,MAAMC,IAAI,GAAGV,KAAK,CAACW,OAAO,GAAGR,QAAQ,CAACS,GAAG,GAAGT,QAAQ,CAACU,MAAM,GAAC,CAAC;MAC7DC,OAAO,CAACC,GAAG,CAACT,IAAI,GAAC,GAAG,GAACI,IAAI,CAAC;MAC1B,IAAIM,EAAE,GAAGV,IAAI,GAACA,IAAI,GAACI,IAAI,GAACA,IAAI;MAC5BM,EAAE,GAAGC,IAAI,CAACC,IAAI,CAACF,EAAE,CAAC;MAClBF,OAAO,CAACC,GAAG,CAACC,EAAE,CAAC;MACf,IAAGA,EAAE,GAAC,EAAE,EAAC;QACPtB,YAAY,CAACY,IAAI,GAAC,CAAC,EAACI,IAAI,GAAC,CAAC,CAAC;MAC7B,CAAC,MAAI;QACHhB,YAAY,CAAC;UAACC,CAAC,EAAEW,IAAI;UAAEV,CAAC,EAAEc;QAAI,CAAC,CAAC;MAClC;IACF;EACF,CAAC;EAED,oBACIpB,OAAA;IAAK6B,KAAK,EAAE;MAACC,QAAQ,EAAE,UAAU;MAAEX,KAAK,EAAE,OAAO;MAAEI,MAAM,EAAE,OAAO;MAAEQ,YAAY,EAAE,KAAK;MAACC,eAAe,EAAE,SAAS;MACvGC,MAAM,EAAE;IAAK,CAAE;IACvBC,WAAW,EAAEtB,eAAgB;IAC7BuB,SAAS,EAAExB,aAAc;IACzByB,YAAY,EAAEzB,aAAc;IAAA0B,QAAA,eAE/BrC,OAAA;MAAK6B,KAAK,EAAE;QAACC,QAAQ,EAAE,UAAU;QAAER,GAAG,EAAE,KAAK;QAAEJ,IAAI,EAAE,KAAK;QACzDoB,SAAS,EAAG,mCAAkCnC,SAAS,CAACE,CAAE,OAAMF,SAAS,CAACG,CAAE,KAAI;QAChFa,KAAK,EAAE,MAAM;QAAEI,MAAM,EAAE,MAAM;QAC7BS,eAAe,EAAE,SAAS;QAC1BD,YAAY,EAAE,KAAK;QACnBA,YAAY,EAAE,KAAK;QACnBQ,MAAM,EAAE;MACT,CAAE;MACGC,WAAW,EAAE/B;IAAgB;MAAAgC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAG;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACjC;AAEV;AAAC1C,EAAA,CAhDQD,QAAQ;AAAA4C,EAAA,GAAR5C,QAAQ;AAkDjB,eAAeA,QAAQ;AAAC,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}